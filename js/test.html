<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- 导入自定义组件和样式库 -->

  <!-- 导入Jquery -->
  <script src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js"></script>
  <title>Document</title>
  <style>
    dialog {
      border: 1px solid gray;
      border-radius: 0.5rem;
    }

    .inp {
      color: red;
    }
  </style>
</head>

<body>
  <button class="btn">Tip</button>
  <input type="text" name="" id="" class="LK-input" />
  <input type="text" name="" id="ljk" class="LK-input" />
  <dialog open>
    <button onclick="closes(this.parentNode)">X</button>
    <table class="LK-table">
      <tr>
        <td>1</td>
        <td>2</td>
        <td>3</td>
        <td>4</td>
      </tr>
      <tr>
        <td>2-1</td>
      </tr>
    </table>
  </dialog>

  <script>
    function closes(s) {
      s.open = false;
    }
  </script>

  <script src="./tool.js"></script>

  <script>
    const { CDate } = tool
    console.log(CDate());
  </script>
  <script>
    function concurRequest(urls, maxNum) {
      return new Promise((resolve) => {
        if (urls.length === 0) {
          resolve([]);
          return;
        }
        const results = [];
        let index = 0; //下一个请求下标
        let count = 0; //当前请求完成数量
        async function request() {
          if (index === urls.length) {
            return;
          }
          const i = index;
          const url = urls[index];
          index++;
          try {
            const resp = await fetch(url); //发送请求
            results[i] = resp;
          } catch (err) {
            results[i] = err;
          } finally {
            // 判断是否所有请求完成
            count++;
            if (count === urls.length) {
              resolve(results);
            }
            request();
          }
        }
        const times = Math.min(maxNum, urls.length);
        for (let i = 0; i < times; i++) {
          request();
        }
      });
    }
  </script>
</body>

</html>